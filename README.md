# VPS Net Traffic Panel

A simple real-time VPS network traffic panel based on **vnStat**, **Nginx** and **Python**.

It provides:

- Live download / upload bandwidth (Mbps)
- Today's usage (download / upload / total, in GB)
- Billing period usage (custom billing day)
- Hourly stats (last 24 hours)
- Daily stats (last 14 days)
- Monthly stats (last 12 months)
- Optional **HTTPS** support with your own certificate

> ä¸­æ–‡è¯´æ˜ï¼šè¿™æ˜¯ä¸€ä¸ªåŸºäº vnStat + Nginx + Python çš„ VPS å®æ—¶æµé‡é¢æ¿ï¼Œæ”¯æŒå®æ—¶å¸¦å®½ã€ä»Šæ—¥æµé‡ã€è®¡è´¹å‘¨æœŸæµé‡ï¼Œä»¥åŠæŒ‰å°æ—¶ / æŒ‰å¤© / æŒ‰æœˆçš„ç»Ÿè®¡å±•ç¤ºã€‚é€‚åˆè‡ªç”¨ VPS ç›‘æ§å¸¦å®½å’Œç”¨é‡ã€‚

---

## Features

- ğŸ§  Auto-detect default network interface (can be overridden manually)
- ğŸ“Š Real-time bandwidth from `/sys/class/net/*/statistics`
- ğŸ“ˆ Historical usage via `vnstat --json`
- ğŸ“… Custom billing day (e.g. every month on the 9th or 14th)
- ğŸŒ Nginx static dashboard + JSON data (`traffic.json`)
- ğŸ” Optional HTTPS with existing SSL certificate
- ğŸ› ï¸ One-click installer: `install_net_panel.sh`

---

## Requirements

- Ubuntu 20.04 / 22.04 / 24.04 (tested on Ubuntu 24; should work on other Debian-based systems)
- Root access to the VPS
- The installer will automatically install:
  - `nginx`
  - `vnstat`
  - `python3`

---

## Installation

### Option 1: Clone the repo

```bash
# 1. Clone this repo
git clone https://github.com/wwintj/vps-net-traffic-panel.git
cd vps-net-traffic-panel

# 2. Make the installer executable
chmod +x install_net_panel.sh

# 3. Run the installer as root
sudo ./install_net_panel.sh

Option 2: One-line install with wget

If you just want to install directly on a VPS:

wget -O install_net_panel.sh https://raw.githubusercontent.com/wwintj/vps-net-traffic-panel/main/install_net_panel.sh \
  && chmod +x install_net_panel.sh \
  && sudo ./install_net_panel.sh


Make sure the branch name is main. If you use another default branch (e.g. master), adjust the URL accordingly.

Accessing the Panel

HTTP mode (if you chose not to enable HTTPS):

http://<your-server-ip>/


HTTPS mode (if enabled during install):

https://<your-domain>/


The dashboard shows:

A simple server spec card (2 cores / 2 GB RAM / 1024 MB swap / 40 GB disk â€“ you can edit this text in index.html)

Live download & upload speed

Today's usage (download / upload / total in GB)

Billing period usage (from billing day to today)

Hourly / daily / monthly traffic tables

Configuration

Main config file:

/etc/net_panel.conf


Example:

IFACE=eth0
BILLING_DAY=14


IFACE â€” Network interface used for stats (e.g. eth0, ens3, etc.)

BILLING_DAY â€” Billing cycle start day (1â€“28)

You can edit this file and the Python service will pick up changes on the next stats refresh (within a few seconds).

Systemd Service

The installer creates and manages a systemd service:

/etc/systemd/system/net-panel.service


Basic commands:

# Restart the panel service
sudo systemctl restart net-panel.service

# Check status
sudo systemctl status net-panel.service

# View logs
journalctl -u net-panel.service -f

Files Overview

After installation, the key files are:

install_net_panel.sh â€” One-click installer (nginx + vnstat + panel setup)

/usr/local/bin/net_panel.py â€” Python exporter: realtime + vnStat stats â†’ traffic.json

/etc/net_panel.conf â€” Panel configuration (interface + billing day)

/var/www/html/index.html â€” Frontend dashboard (HTML + JS)

/var/www/html/traffic.json â€” JSON data generated by net_panel.py

/etc/nginx/sites-available/net-panel.conf â€” Nginx site config (if HTTPS enabled)

/etc/systemd/system/net-panel.service â€” systemd service for the exporter

How It Works

vnStat collects traffic stats per interface and stores them in its own database.

net_panel.py:

Reads live counters from
/sys/class/net/<iface>/statistics/rx_bytes and tx_bytes

Calculates real-time bandwidth (bps â†’ Mbps)

Calls vnstat --json -i <iface> and converts bytes â†’ GB by dividing by 1024^3

Aggregates:

Todayâ€™s traffic

Billing period (from billing day to today)

Hourly (last 24 hours)

Daily (last 14 days)

Monthly (last 12 months)

Writes everything into /var/www/html/traffic.json

Frontend (index.html):

Fetches traffic.json every second

Updates:

Real-time download & upload speed

Today & billing period usage

Hourly / daily / monthly tables

Customization

Server spec text:
Edit /var/www/html/index.html server card section.

Theme / styling:
Modify the <style> block in index.html.

Billing logic / aggregation:
Adjust compute_vnstat_stats() in /usr/local/bin/net_panel.py.

License

This project is licensed under the MIT License â€“ see the LICENSE
 file for details.

Author

Developed by @wwintj
.
Feel free to open issues or pull requests if you have suggestions or improvements.


---

## 3. `LICENSE`ï¼ˆMIT æ¨¡æ¿ï¼‰

åœ¨ä»“åº“æ ¹ç›®å½•æ–°å»º `LICENSE` æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼ˆä½ æ˜¯ä½œè€… Tim Wongï¼Œè¿™é‡Œç”¨ä½ çš„ GitHub ID ä¹Ÿå¯ä»¥ï¼‰ï¼š

```text
MIT License

Copyright (c) 2025 wwintj

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

4. ä¸€é”®å®‰è£…çš„ wget å‘½ä»¤ï¼ˆå•ç‹¬ç‰ˆï¼‰

ä½ å¯ä»¥æ”¾åœ¨ READMEã€åšå®¢ã€è‡ªå·±è®°å½•é‡Œï¼Œå‘½ä»¤æ˜¯ï¼š

wget -O install_net_panel.sh https://raw.githubusercontent.com/wwintj/vps-net-traffic-panel/main/install_net_panel.sh \
  && chmod +x install_net_panel.sh \
  && sudo ./install_net_panel.sh
